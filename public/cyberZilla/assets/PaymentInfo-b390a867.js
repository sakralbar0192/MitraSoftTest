import{A as S,y as T,q as A,H as C,t as I,v as L,w as M,B as N,_ as $,N as w,C as V,D as B}from"./VList-70f3e951.js";import{e as g,H as R,o as t,T as f,U as r,c as a,f as H,F as h,h as W,d as l,V as p,t as i,a as _,a1 as F,a2 as G,M as O,x as U,X as x,Q as j,w as q,n as D,b as s,a0 as z,_ as K}from"./index-5fb056fc.js";const E=Symbol(),Q=g({__name:"PaymentsList",props:{payments:{}},setup(m){const e=m,u=R(E);function d(c){u&&u(c)}return(c,n)=>(t(),f(S,null,{default:r(()=>[(t(!0),a(h,null,H(e.payments,o=>(t(),f(T,{key:o.id,title:o.title,subtitle:o.price,value:o.id,onClick:()=>{d(o)}},null,8,["title","subtitle","value","onClick"]))),128))]),_:1}))}}),X=g({__name:"PaymentInfoDialog",props:{payment:{},visible:{type:Boolean,default:!1}},emits:["update:visible","update:payment"],setup(m,{emit:e}){const u=m,d=W(()=>u.visible);function c(){e("update:visible",!1),e("update:payment",void 0)}return(n,o)=>(t(),f(A,{modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=k=>d.value=k)},{default:r(()=>[l(M,null,{default:r(()=>[l(C,null,{default:r(()=>[p(i(n.payment.title),1)]),_:1}),l(C,null,{default:r(()=>[p(" Discount: "),_("b",null,i(n.payment.discountPercentage),1),p(" Total: "),_("b",null,i(n.payment.total),1),p(" Total price: "),_("b",null,i(n.payment.price*n.payment.total),1)]),_:1}),l(I,null,{default:r(()=>[l(L,{color:"primary",block:"",onClick:c},{default:r(()=>[p(" Close Dialog ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Y={key:0},J={key:0},Z={key:0},ee={key:1},te={key:1},se={key:2},ae={key:3},oe={key:1},ne={key:2},le={key:3},ie=g({__name:"PaymentInfo",setup(m){const e=N(),u=F(),d=G(),c=Number(u.params.id);O(()=>{e.setActiveUser(c)});const n=U(!1),o=U();function k(y){o.value=y,n.value=!0}return x(E,k),(y,v)=>{const P=j("title");return t(),a(h,null,[q((t(),a("section",null,[l(L,{variant:"outlined",class:D(y.$style.goBackButton),onClick:v[0]||(v[0]=b=>s(d).back())},{default:r(()=>[p(" Back to user list ")]),_:1},8,["class"]),_("div",null,[s(e).activeUser?(t(),a("div",Y,[_("div",{class:D(y.$style.userCardWrapper)},[l($,{user:s(e).activeUser},null,8,["user"])],2),_("div",null,[s(e).activeUser.payments?(t(),a("div",J,[s(e).activeUser.payments.length?(t(),a("div",Z,[l(Q,{payments:s(e).activeUser.payments},null,8,["payments"])])):(t(),a("p",ee,i(s(w)),1))])):s(e).isPaymentsLoadedError?(t(),a("p",te,i(s(e).paymentsLoadedErrorMessage),1)):s(e).isPaymentsLoading?(t(),a("div",se,[l(V)])):(t(),a("p",ae,i(s(B)),1))])])):s(e).isUserLoadedError?(t(),a("p",oe,i(s(e).userLoadedErrorMessage),1)):s(e).isUserLoading?(t(),a("div",ne,[l(V)])):(t(),a("p",le,i(s(B)),1))])])),[[P,{title:"User payments info"}]]),o.value?(t(),f(X,{key:0,visible:n.value,"onUpdate:visible":v[1]||(v[1]=b=>n.value=b),payment:o.value},null,8,["visible","payment"])):z("",!0)],64)}}}),re="_goBackButton_19to3_1",ue="_userCardWrapper_19to3_2",de={goBackButton:re,userCardWrapper:ue},ce={$style:de},me=K(ie,[["__cssModules",ce]]);export{me as default};
